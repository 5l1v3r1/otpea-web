(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(14),o=a(1),r=a(2),i=1,s=function(e){return{type:"ACCOUNT_REMOVED",payload:e}},u=function(e){return{type:"INTERVAL_CHANGED",payload:e}},m=function(){return{type:"ADD_ACCOUNT_TOGGLED"}},d=function(e){return{type:"REMOVE_ACCOUNT_TOGGLED",payload:e}},v=function(){return{type:"REMOVE_ACCOUNT_CANCELLED"}},E=function(e){return{type:"ACCOUNT_ADDED",payload:Object(r.a)({},e,{id:i++})}},f=function(){return{type:"ADD_ACCOUNT_CANCELLED"}},N=Object(o.b)(null,{addAccount:E,cancelAddAccount:f})(function(e){var t,a,n=e.isVisible,l=e.addAccount,o=e.cancelAddAccount;return c.a.createElement("div",{className:n?"modal is-active":"modal"},c.a.createElement("div",{className:"modal-background",onClick:o}),c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"box"},c.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),l({name:t.value,secret:a.value}),t.value=a.value=""}},c.a.createElement("div",{className:"field is-horizontal"},c.a.createElement("div",{className:"field-label is-normal"},c.a.createElement("label",{className:"label"},"Name")),c.a.createElement("div",{className:"field-body"},c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"control"},c.a.createElement("input",{type:"text",className:"input",name:"accountName",placeholder:"GitHub",required:!0,ref:function(e){return t=e}}))))),c.a.createElement("div",{className:"field is-horizontal"},c.a.createElement("div",{className:"field-label is-normal"},c.a.createElement("label",{className:"label"},"Secret")),c.a.createElement("div",{className:"field-body"},c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"control"},c.a.createElement("input",{type:"text",className:"input",name:"secret",placeholder:"n34h8yv2n80cxkv1",required:!0,ref:function(e){return a=e}}))))),c.a.createElement("div",{className:"field is-grouped is-grouped-right"},c.a.createElement("p",{className:"control"},c.a.createElement("input",{type:"button",className:"button",value:"Cancel",onClick:o})),c.a.createElement("p",{className:"control"},c.a.createElement("input",{type:"submit",className:"button is-primary",value:"Save"})))))),c.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:o}))}),b=a(16),p=a.n(b),g=a(17),A=d,C=Object(o.b)(function(e){var t=e.accounts,a=e.time;e.ui;return{accounts:t,currentInterval:a.currentInterval}},{toggleRemoveAccount:A})(function(e){var t=e.accounts,a=e.toggleRemoveAccount;return c.a.createElement("div",null,t.map(function(e){var t=Object(g.TOTP)(e.secret).now();return c.a.createElement("section",{className:"box",key:e.id},c.a.createElement("div",{className:"level is-mobile"},c.a.createElement("div",{className:"level-left"},c.a.createElement("span",{className:"level-item"},e.name)),c.a.createElement("div",{className:"level-right"},c.a.createElement("span",{className:"level-item is-size-4 has-text-weight-bold"},t),c.a.createElement("button",{className:"level-item button is-small is-bordered",onClick:function(){return p()(t)}},"Copy"),c.a.createElement("span",{className:"level-item delete",onClick:function(){return a(e.id)}}))))}))}),h=function(){return c.a.createElement("section",{className:"section has-text-centered"},c.a.createElement("p",{className:"is-size-2"},"\xaf\\_(\u30c4)_/\xaf"),c.a.createElement("p",{className:"is-size-4"},"Add an account to generate one-time passwords."),c.a.createElement("p",null,"You can generate a time-based OTP for authenticating on services like Google, GitHub, WordPress.com,"," ",c.a.createElement("a",{href:"https://twofactorauth.org/",target:"_blank",rel:"noopener noreferrer"},"and many more"),"."))},O=m,y=Object(o.b)(null,{toggleAddAccount:O})(function(e){var t=e.toggleAddAccount;return c.a.createElement("header",{className:"level is-mobile"},c.a.createElement("div",{className:"level-left"},c.a.createElement("h1",{className:"level-item title"},"OTPea")),c.a.createElement("div",{className:"level-right"},c.a.createElement("button",{className:"level-item button is-primary",onClick:t},"Add account")))}),w=s,D=v,T=Object(o.b)(null,{removeAccount:w,cancelRemoveAccount:D})(function(e){var t=e.isVisible,a=e.accountId,n=e.removeAccount,l=e.cancelRemoveAccount;return c.a.createElement("div",{className:t?"modal is-active":"modal"},c.a.createElement("div",{className:"modal-background",onClick:l}),c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"box"},c.a.createElement("p",null,"Remove this account?"),c.a.createElement("div",{className:"field is-grouped is-grouped-right"},c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"level-item button",onClick:l},"Cancel")),c.a.createElement("p",{className:"control"},c.a.createElement("button",{className:"level-item button is-danger",onClick:function(){return n(a)}},"Remove"))))),c.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:l}))}),_=Object(o.b)(function(e){var t=e.accounts,a=e.ui;return{hasAccounts:Boolean(t.length),ui:a}},null)(function(e){var t=e.hasAccounts,a=e.ui;return c.a.createElement("main",{className:"section is-clipped"},c.a.createElement("div",{className:"container"},c.a.createElement(y,null),c.a.createElement(N,{isVisible:a.addingAccount}),c.a.createElement(T,{accountId:a.accountToBeRemoved,isVisible:a.removingAccount}),t?c.a.createElement(C,null):c.a.createElement(h,null)))}),k=a(4),R=a(19),j=function(){return Math.floor(Date.now()/3e4)},U={currentInterval:j()},L={addingAccount:!1,removingAccount:!1,accountToBeRemoved:null},G=a(18),V=Object(k.d)(Object(k.c)({accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"ACCOUNT_ADDED"===a?[].concat(Object(R.a)(e),[n]):"ACCOUNT_REMOVED"===a?e.filter(function(e){return e.id!==n}):e},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"INTERVAL_CHANGED"===a?Object(r.a)({},e,{currentInterval:n}):e},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return"ADD_ACCOUNT_TOGGLED"===a?Object(r.a)({},e,{addingAccount:!e.addingAccount}):"ACCOUNT_ADDED"===a||"ADD_ACCOUNT_CANCELLED"===a?Object(r.a)({},e,{addingAccount:!1}):"REMOVE_ACCOUNT_TOGGLED"===a?Object(r.a)({},e,{removingAccount:!e.removingAccount,accountToBeRemoved:n}):"ACCOUNT_REMOVED"===a||"REMOVE_ACCOUNT_CANCELLED"===a?Object(r.a)({},e,{removingAccount:!1,accountToBeRemoved:null}):e}}),Object(k.a)(G.logger)),x=(a(33),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function I(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var M=document.getElementById("root");Object(l.render)(c.a.createElement(o.a,{store:V},c.a.createElement(_,null)),M),function(){var e=30-(new Date).getSeconds()%30;setTimeout(function(){setInterval(function(){var e=j(),t=u(e);V.dispatch(t)},3e4)},1e3*e)}(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");x?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):I(t,e)})}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.3fa65140.chunk.js.map